<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Size Filter &mdash; Ontology 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=2709fde1"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/toggleprompt.js?v=5801b3bb"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Demultiplex" href="demultiplex.html" />
    <link rel="prev" title="Status Report" href="../status_report.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Ontology
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data.html">Example data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../home.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../prepare.html">Prepare</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../implement.html">Implement</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../analyze.html">Analyze</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../upload_data.html">Upload Data</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../status_report.html">Status Report</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Size Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="demultiplex.html">Demultiplex</a></li>
<li class="toctree-l3"><a class="reference internal" href="primer_trim.html">Primer Trim</a></li>
<li class="toctree-l3"><a class="reference internal" href="primary_clustering.html">Primary Clustering</a></li>
<li class="toctree-l3"><a class="reference internal" href="secondary_clustering.html">Secondary Clustering</a></li>
<li class="toctree-l3"><a class="reference internal" href="identification.html">Identification</a></li>
<li class="toctree-l3"><a class="reference internal" href="contig_selection.html">Contig Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="report.html">Report</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../key_metrics.html">Key Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other_metrics.html">Other Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../otu_summary.html">OTU Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upload_to_bold.html">Upload to BOLD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../confirmation.html">Confirmation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contact_us.html">Contact Us</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Ontology</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../analyze.html">Analyze</a></li>
          <li class="breadcrumb-item"><a href="../status_report.html">Status Report</a></li>
      <li class="breadcrumb-item active">Size Filter</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/analyze/status_report/size_filter.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="size-filter">
<span id="id1"></span><h1>Size Filter<a class="headerlink" href="#size-filter" title="Link to this heading"></a></h1>
<p>This section describes the size filtering process applied to reads in a FASTA file. If you provide a .fastq file, ONTOLOGY will convert it to a .fasta file.</p>
<section id="task-overview">
<h2>Task Overview<a class="headerlink" href="#task-overview" title="Link to this heading"></a></h2>
<p>Filtering reads by length is crucial for alignment accuracy in DNA barcoding analysis. Short reads may lack the necessary length to align properly, leading to misalignment or incorrect results, while long reads can introduce complexity and misalignments due to additional, non-informative sequences. By retaining reads within a specified length range, we ensure that all sequences are consistent and align accurately, which improves the reliability of downstream analyses and variant detection. This approach helps streamline the alignment process and ensures that the data used for comparison and identification is both precise and relevant.</p>
<p>The size filtering process involves retaining reads in a FASTA file that meet the specified minimum and maximum read lengths. The goal is to filter out reads that are too short or too long, and log the count of reads that pass the filter.</p>
</section>
<section id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p><strong>Execute Read Filtering</strong>:
A command-line tool called <code class="docutils literal notranslate"><span class="pre">cutadapt</span></code> is used to filter the reads in the FASTQ file. The tool is configured with two key parameters:</p>
<ul class="simple">
<li><p><strong>Minimum read length</strong>: Only reads longer than this value are retained.</p></li>
<li><p><strong>Maximum read length</strong>: Only reads shorter than this value are retained.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cutadapt<span class="w"> </span>-j<span class="w"> </span>&lt;max_cores&gt;<span class="w"> </span>-m<span class="w"> </span>&lt;min_read_length&gt;<span class="w"> </span>-M<span class="w"> </span>&lt;max_read_length&gt;<span class="w"> </span>-o<span class="w"> </span>file.fasta_filtered<span class="w"> </span>file.fasta
</pre></div>
</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-j</span> <span class="pre">&lt;max_cores&gt;</span></code>: Specifies the maximum number of CPU cores to use for parallel processing.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">&lt;min_read_length&gt;</span></code>: Defines the minimum read length.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-M</span> <span class="pre">&lt;max_read_length&gt;</span></code>: Defines the maximum read length.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">file.fasta_filtered</span></code>: Specifies the output file for filtered reads.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file.fasta</span></code>: The input FASTA file containing unfiltered reads.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Count Filtered Reads</strong>:
After the filtering process is complete, the number of reads in the filtered FASTA file is counted.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p><strong>Log the Results</strong>:
The read count is logged in two ways:</p>
<ul class="simple">
<li><p>It is appended to a file called <code class="docutils literal notranslate"><span class="pre">readcounts</span></code>, which stores the number of reads after filtering to be used in plotting.</p></li>
<li><p>It is also outputted for user visibility, showing how many reads passed the filtering criteria.</p></li>
</ul>
</li>
</ol>
</section>
<section id="result">
<h2>Result<a class="headerlink" href="#result" title="Link to this heading"></a></h2>
<p>At the end of the process, the original FASTA file is replaced by the filtered version. Additionally, the log file (<code class="docutils literal notranslate"><span class="pre">readcounts.txt</span></code>) is updated with the number of reads that passed the filter.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../status_report.html" class="btn btn-neutral float-left" title="Status Report" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="demultiplex.html" class="btn btn-neutral float-right" title="Demultiplex" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Center for Biodiversity Genomics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>